<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.oracle.s202350104.AccomodationsMapper">
	
	<select id="accomodationAll" resultType="AccomodationsContent" parameterType="AccomodationsContent">
    SELECT * 
    FROM   
   	 (
        SELECT ROWNUM rn, b.*
        FROM
        (
            SELECT *
            FROM accomodations a, contents c
            WHERE a.content_id = c.id
            ORDER BY content_id
       	 ) b
 	   )
   	 WHERE rn BETWEEN #{start} and #{end}
	</select>

	
	<select id="AccomodationsDetail" resultType="AccomodationsContent" parameterType="int">
		SELECT 	*
		FROM 	contents c, accomodations a
		WHERE 	c.id = a.content_id
		AND 	a.content_id = #{content_id}
	
	</select>
	
	<select id="AccomodationsTotal" resultType="int">
		SELECT count(*)
		FROM   accomodations a, contents c
		WHERE  a.content_id = c.id
		
	</select>



</mapper>